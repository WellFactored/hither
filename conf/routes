# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                           controllers.Application.index

GET     /v1/_ping                   controllers.StatusController.ping

#DELETE  /v1/repositories/:repository
GET     /v1/repositories/:repository/tags                           controllers.Tags.tagsWithoutNamespace(repository:RepositoryName)
GET     /v1/repositories/:repository/tags/:tagName                  controllers.Tags.tagNameWithoutNamespace(repository:RepositoryName, tagName:String)
GET     /v1/repositories/:namespace/:repository/tags                controllers.Tags.tags(namespace:Namespace, repository:RepositoryName)
GET     /v1/repositories/:namespace/:repository/tags/:tagName       controllers.Tags.tagName(namespace:Namespace, repository:RepositoryName, tagName:String)

PUT     /v1/repositories/:repository/tags/:tagName                  controllers.Tags.putTagNameWithoutNamespace(repository:RepositoryName, tagName:String)
PUT     /v1/repositories/:namespace/:repository/tags/:tagName       controllers.Tags.putTagName(namespace:Namespace, repository:RepositoryName, tagName:String)

PUT     /v1/repositories/:repository/                               controllers.Repositories.allocateRepoWithoutNamespace(repository:RepositoryName)
PUT     /v1/repositories/:namespace/:repository/                    controllers.Repositories.allocateRepo(namespace:Namespace, repository:RepositoryName)

GET     /v1/repositories/:repository/images                         controllers.Repositories.imagesNoNamespace(repository:RepositoryName)
GET     /v1/repositories/:namespace/:repository/images              controllers.Repositories.images(namespace:Namespace, repository:RepositoryName)

PUT     /v1/repositories/:repository/images                         controllers.Repositories.putImagesNoNamespace(repository:RepositoryName)
PUT     /v1/repositories/:namespace/:repository/images              controllers.Repositories.putImages(namespace:Namespace, repository:RepositoryName)

GET     /v1/images/:imageId/ancestry    controllers.Images.ancestry(imageId:ImageId)
GET     /v1/images/:imageId/json        controllers.Images.json(imageId:ImageId)
PUT     /v1/images/:imageId/json        controllers.Images.putJson(imageId:ImageId)

GET     /v1/images/:imageId/layer       controllers.Images.layer(imageId:ImageId)

PUT     /v1/images/:imageId/layer       controllers.Images.putLayer(imageId:ImageId)
PUT     /v1/images/:imageId/checksum    controllers.Images.putChecksum(imageId:ImageId)


# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)
